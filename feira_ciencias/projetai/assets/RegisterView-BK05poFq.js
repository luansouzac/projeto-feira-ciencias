import{e as i,h as C,a,w as n,r as o,f as j,o as v,b as u,j as B,c as x,k as _,d as b,l as E}from"./index-zSKt_z7e.js";const M={class:"d-flex flex-column fill-height"},P={class:"text-center mt-6"},T={__name:"RegisterView",setup(S){const w=j(),c=i(!1),d=i(!1),s=i(""),m=i(""),t=i({name:"",email:"",password:"",id_tipo_usuario:null}),y=[{label:"Administrador",value:1},{label:"Aluno",value:2},{label:"Avaliador",value:3}],V=async()=>{c.value=!0,s.value="";try{await E.post("/register",{name:t.value.name,email:t.value.email,password:t.value.password,id_tipo_usuario:t.value.id_tipo_usuario}),m.value="Usuário cadastrado com sucesso!",s.value="",setTimeout(()=>{w.push("/login")},1e3)}catch(r){r.response&&r.response.data&&r.response.data.message?s.value=r.response.data.message:s.value="Erro ao registrar. Verifique os dados e tente novamente.",m.value="",c.value=!1}};return(r,e)=>{const k=o("v-img"),f=o("v-sheet"),p=o("v-text-field"),h=o("v-select"),g=o("v-alert"),U=o("v-btn"),N=o("RouterLink"),R=o("v-form"),q=o("v-card");return v(),C("div",M,[a(f,{color:"green-darken-4",class:"d-flex flex-column justify-center align-center pa-6 text-white",style:{flex:"0.4 1 0"}},{default:n(()=>[a(k,{src:"https://www.ifsudestemg.edu.br/comunicacao-social/logos/if-sudeste-mg/logo-if-sudeste-mg-branco-vertical.png/@@images/image.png","max-height":"100",contain:"",class:"mb-6"}),e[5]||(e[5]=u("h1",{class:"text-h4 font-weight-bold text-center mb-2"},"Nome do Sistema",-1)),e[6]||(e[6]=u("p",{class:"text-h6 font-weight-light text-center"}," Plataforma de Gestão de Projetos do IF Sudeste MG ",-1))]),_:1}),a(f,{class:"d-flex flex-column justify-center align-center pa-8",style:{flex:"0.6 1 0"}},{default:n(()=>[a(q,{elevation:"0",class:"w-100","max-width":"500px"},{default:n(()=>[e[9]||(e[9]=u("h2",{class:"text-h4 font-weight-bold text-grey-darken-3 mb-2"},"Criar conta",-1)),e[10]||(e[10]=u("p",{class:"text-grey-darken-1 mb-8"}," Preencha os campos abaixo para se cadastrar no sistema. ",-1)),a(R,{onSubmit:B(V,["prevent"])},{default:n(()=>[a(p,{modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.name=l),label:"Nome completo",variant:"outlined","prepend-inner-icon":"mdi-account",required:"",class:"mb-4"},null,8,["modelValue"]),a(p,{modelValue:t.value.email,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.email=l),label:"E-mail",variant:"outlined","prepend-inner-icon":"mdi-email-outline",required:"",class:"mb-4"},null,8,["modelValue"]),a(p,{modelValue:t.value.password,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.password=l),label:"Senha",variant:"outlined","prepend-inner-icon":"mdi-lock-outline",type:d.value?"text":"password","append-inner-icon":d.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[3]||(e[3]=l=>d.value=!d.value),required:"",class:"mb-4"},null,8,["modelValue","type","append-inner-icon"]),a(h,{modelValue:t.value.id_tipo_usuario,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.id_tipo_usuario=l),items:y,"item-title":"label","item-value":"value",label:"Tipo de Usuário",variant:"outlined","prepend-inner-icon":"mdi-account-cog-outline",required:"",class:"mb-4"},null,8,["modelValue"]),s.value?(v(),x(g,{key:0,type:"error",variant:"tonal",density:"compact",class:"mb-4",text:s.value},null,8,["text"])):_("",!0),m.value?(v(),x(g,{key:1,type:"success",variant:"tonal",density:"compact",class:"mb-4",text:m.value},null,8,["text"])):_("",!0),a(U,{loading:c.value,type:"submit",color:"green-darken-3",block:"",size:"large"},{default:n(()=>[...e[7]||(e[7]=[b(" Registrar ",-1)])]),_:1},8,["loading"]),u("div",P,[a(N,{to:"/login",class:"text-green-darken-3 text-decoration-none"},{default:n(()=>[...e[8]||(e[8]=[b(" Já tem uma conta? Entrar ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})])}}};export{T as default};
