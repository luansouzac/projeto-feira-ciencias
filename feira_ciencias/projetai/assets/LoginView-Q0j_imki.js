import{_ as V,e as u,h as j,a as t,b as r,w as l,r as a,f as C,o as v,j as L,c as N,k as S,d as m,l as q}from"./index-zSKt_z7e.js";const B={class:"d-flex flex-column fill-height login-wrapper"},E={class:"d-flex flex-column justify-center align-center pa-8 flex-grow-1 login-background"},P={class:"d-flex justify-space-between mt-6"},U={__name:"LoginView",setup(I){const g=C(),s=u({email:"",password:""}),i=u(!1),c=u(!1),n=u(""),x=async()=>{if(!s.value.email||!s.value.password){n.value="Por favor, preencha todos os campos.";return}c.value=!0,n.value="";try{const{data:o}=await q.post("/login",s.value),e={token:o.access_token,user:o.user};sessionStorage.setItem("user_data",JSON.stringify(e)),console.log("Login bem-sucedido!"),g.push({name:"home"})}catch(o){console.error("Erro retornado ao componente de login:",o),o.response&&(o.response.status===422||o.response.status===401)?n.value="Credenciais inválidas. Verifique seu e-mail e senha.":n.value="Ocorreu um erro no servidor. Tente novamente mais tarde."}finally{c.value=!1}};return(o,e)=>{const b=a("v-img"),w=a("v-sheet"),p=a("v-text-field"),_=a("v-alert"),h=a("v-btn"),f=a("RouterLink"),y=a("v-form"),k=a("v-card");return v(),j("div",B,[t(w,{color:"green-darken-4",class:"d-flex flex-column justify-center align-center pa-6 text-white login-header"},{default:l(()=>[t(b,{src:"https://www.ifsudestemg.edu.br/comunicacao-social/logos/if-sudestemg/logo-if-sudeste-mg-branco-vertical.png/@@images/image.png","max-height":"100",contain:"",class:"mb-6"}),e[3]||(e[3]=r("h1",{class:"text-h4 font-weight-bold text-center mb-2 brand-title"}," Projetaí ",-1)),e[4]||(e[4]=r("p",{class:"text-h6 font-weight-light text-center"}," Plataforma de gestão de projetos ",-1))]),_:1}),r("div",E,[t(k,{elevation:"0",class:"w-100 form-card pa-8","max-width":"500px"},{default:l(()=>[e[8]||(e[8]=r("h2",{class:"text-h4 font-weight-bold text-center text-white mb-2"}," Acessar o sistema ",-1)),e[9]||(e[9]=r("p",{class:"text-center text-white mb-8 text-body-1"}," Utilize seu usuário e senha para continuar. ",-1)),t(y,{onSubmit:L(x,["prevent"])},{default:l(()=>[t(p,{modelValue:s.value.email,"onUpdate:modelValue":e[0]||(e[0]=d=>s.value.email=d),label:"Usuário (E-mail)",variant:"outlined","prepend-inner-icon":"mdi-account-outline",required:"",class:"mb-6 text-h6",density:"comfortable",color:"white","bg-color":"rgba(255, 255, 255, 0.25)"},null,8,["modelValue"]),t(p,{modelValue:s.value.password,"onUpdate:modelValue":e[1]||(e[1]=d=>s.value.password=d),label:"Senha",variant:"outlined","prepend-inner-icon":"mdi-lock-outline",type:i.value?"text":"password","append-inner-icon":i.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[2]||(e[2]=d=>i.value=!i.value),required:"",class:"mb-6 text-h6",density:"comfortable",color:"white","bg-color":"rgba(255, 255, 255, 0.25)"},null,8,["modelValue","type","append-inner-icon"]),n.value?(v(),N(_,{key:0,type:"error",variant:"tonal",density:"compact",class:"mb-4",text:n.value},null,8,["text"])):S("",!0),t(h,{loading:c.value,type:"submit",color:"green-darken-3",block:"",size:"large",class:"mt-4"},{default:l(()=>[...e[5]||(e[5]=[m(" Acessar ",-1)])]),_:1},8,["loading"]),r("div",P,[t(f,{to:"/recuperar-senha",class:"text-white text-decoration-none text-body-2"},{default:l(()=>[...e[6]||(e[6]=[m("Esqueceu sua senha?",-1)])]),_:1}),t(f,{to:"/registrar",class:"text-white text-decoration-none text-body-2"},{default:l(()=>[...e[7]||(e[7]=[m("Criar conta",-1)])]),_:1})])]),_:1})]),_:1})])])}}},T=V(U,[["__scopeId","data-v-b24f491f"]]);export{T as default};
